<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Get Back to Work | distracted.work</title>
  <meta name="description" content="You're supposed to be working. Close this tab and get back to it.">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      transition: background-color 0.3s, color 0.3s;
      overflow: hidden;
      user-select: none;
    }

    body.light {
      background-color: #f8f9fa;
      color: #212529;
    }

    body.dark {
      background-color: #1a1a2e;
      color: #e0e0e0;
    }

    .container {
      text-align: center;
      max-width: 800px;
      padding: 2rem;
    }

    #message {
      font-size: clamp(2rem, 6vw, 4.5rem);
      font-weight: 800;
      line-height: 1.2;
      letter-spacing: -0.02em;
      margin-bottom: 2rem;
      opacity: 0;
      animation: fadeIn 0.6s ease-out forwards;
    }

    body.light #message {
      color: #212529;
    }

    body.dark #message {
      color: #ffffff;
    }

    .subtitle {
      font-size: 1.1rem;
      opacity: 0.6;
      margin-bottom: 3rem;
    }

    .actions {
      display: flex;
      gap: 1rem;
      justify-content: center;
      flex-wrap: wrap;
    }

    .btn {
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.15s, box-shadow 0.15s;
      text-decoration: none;
      display: inline-block;
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }

    .btn:active {
      transform: translateY(0);
    }

    .btn-primary {
      background-color: #4361ee;
      color: #fff;
    }

    .btn-secondary {
      background-color: transparent;
      border: 2px solid currentColor;
      opacity: 0.7;
    }

    body.light .btn-secondary {
      color: #212529;
    }

    body.dark .btn-secondary {
      color: #e0e0e0;
    }

    .btn-extension {
      background-color: #ff6b35;
      color: #fff;
      margin-top: 1rem;
    }

    .theme-toggle {
      position: fixed;
      top: 1.5rem;
      right: 1.5rem;
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      opacity: 0.5;
      transition: opacity 0.2s;
    }

    .theme-toggle:hover {
      opacity: 1;
    }

    .footer {
      position: fixed;
      bottom: 1.5rem;
      font-size: 0.85rem;
      opacity: 0.4;
    }

    .footer a {
      color: inherit;
      text-decoration: underline;
      margin: 0 0.5rem;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body class="light">
  <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode">üåô</button>

  <div class="container">
    <div id="message"></div>
    <p class="subtitle">‚Äî distracted.work</p>
    <div class="actions">
      <button class="btn btn-primary" id="newMessage">Another One</button>
      <button class="btn btn-secondary" id="closeTab">Close This Tab</button>
    </div>
    <div class="actions" style="margin-top: 1.5rem;">
      <a class="btn btn-extension" href="https://addons.mozilla.org/firefox/addon/distracted-work/" id="extensionLink">Get the Firefox Extension</a>
    </div>
  </div>

  <div class="footer">
    <a href="/privacy.html">Privacy Policy</a>
  </div>

  <script>
    const MESSAGES = [
      "Oops, you did it again.",
      "This isn't what your to-do list looks like.",
      "Your future self is watching. And judging.",
      "That deadline isn't going to meet itself.",
      "Plot twist: this isn't productive.",
      "Your boss didn't pay for this tab.",
      "Procrastination level: expert. Now go back to work.",
      "You're not \"researching.\" You're avoiding.",
      "This page isn't going to write your report.",
      "Somewhere, a spreadsheet misses you.",
      "You have emails. So many emails.",
      "Remember that thing you were supposed to finish today?",
      "Distraction detected. Rerouting to productivity.",
      "Your calendar just sighed.",
      "Close the tab. Open the document.",
      "This is a sign. The sign says: get back to work.",
      "You were doing so well. What happened?",
      "Netflix will still be there at 5 PM.",
      "Your project manager can sense this.",
      "Imagine explaining this in your standup tomorrow.",
      "That task isn't going to complete itself. Probably.",
      "You've been \"taking a quick break\" for a while now.",
      "Your motivation called. It wants you back.",
      "Fun fact: this site won't help you hit your KPIs.",
      "Alt+F4 this distraction. Get back to it.",
      "You opened this tab by accident, right? Right.",
      "The Wi-Fi didn't die for you to use it like this.",
      "Your Slack status says 'Busy.' Act like it.",
      "What would your LinkedIn profile think?",
      "You're one closed tab away from being productive.",
      "Time is money. This tab is expensive.",
      "Your to-do list just got longer while you were here.",
      "Deep breaths. Close tab. Open IDE.",
      "This is the universe telling you to focus.",
      "You know what's cooler than this site? Finishing your work.",
      "Ctrl+W is your friend right now.",
      "The internet will survive without you for a few hours.",
      "You didn't wake up early for this.",
      "Your coffee is getting cold and your tasks are piling up.",
      "Every second here is a second not spent shipping."
    ];

    let lastIndex = -1;

    function getRandomMessage() {
      let index;
      do {
        index = Math.floor(Math.random() * MESSAGES.length);
      } while (index === lastIndex && MESSAGES.length > 1);
      lastIndex = index;
      return MESSAGES[index];
    }

    function displayMessage() {
      const el = document.getElementById('message');
      el.style.animation = 'none';
      void el.offsetHeight;
      el.style.animation = 'fadeIn 0.6s ease-out forwards';
      el.textContent = getRandomMessage();
    }

    function initTheme() {
      const saved = localStorage.getItem('dw-theme');
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      const theme = saved || (prefersDark ? 'dark' : 'light');
      applyTheme(theme);
    }

    function applyTheme(theme) {
      document.body.classList.remove('light', 'dark');
      document.body.classList.add(theme);
      document.getElementById('themeToggle').textContent = theme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
      localStorage.setItem('dw-theme', theme);
    }

    document.addEventListener('DOMContentLoaded', function () {
      displayMessage();
      initTheme();

      document.getElementById('newMessage').addEventListener('click', displayMessage);
      document.getElementById('themeToggle').addEventListener('click', function () {
        const current = document.body.classList.contains('dark') ? 'dark' : 'light';
        applyTheme(current === 'dark' ? 'light' : 'dark');
      });
      document.getElementById('closeTab').addEventListener('click', function () {
        window.close();
      });
    });
  </script>
</body>
</html>
