<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
      width: 340px;
      padding: 1rem;
      font-size: 14px;
      transition: background-color 0.3s, color 0.3s;
    }

    body.light { background: #ffffff; color: #333; }
    body.dark { background: #1a1a2e; color: #e0e0e0; }

    .header {
      display: flex; align-items: center; justify-content: space-between;
      margin-bottom: 1rem; padding-bottom: 0.75rem; border-bottom: 1px solid #eee;
    }
    body.dark .header { border-bottom-color: #1a1a4e; }

    .header h1 { font-size: 1rem; font-weight: 700; }
    body.dark .header h1 { color: #fff; }

    .status-badge {
      font-size: 0.75rem; font-weight: 600; padding: 0.2rem 0.6rem;
      border-radius: 12px; text-transform: uppercase; letter-spacing: 0.03em;
    }
    .status-badge.active { background: #d4edda; color: #155724; }
    .status-badge.paused { background: #f8d7da; color: #721c24; }
    .status-badge.scheduled { background: #fff3cd; color: #856404; }

    .section { margin-bottom: 1rem; }

    .section-title {
      font-size: 0.7rem; text-transform: uppercase; letter-spacing: 0.08em;
      color: #888; margin-bottom: 0.5rem; font-weight: 600;
    }

    .toggle-row { display: flex; align-items: center; justify-content: space-between; padding: 0.5rem 0; }
    .toggle-label { font-size: 0.9rem; font-weight: 500; }
    .toggle { position: relative; width: 42px; height: 24px; }
    .toggle input { opacity: 0; width: 0; height: 0; }
    .toggle-slider {
      position: absolute; cursor: pointer; inset: 0;
      background-color: #ccc; border-radius: 24px; transition: 0.3s;
    }
    .toggle-slider::before {
      position: absolute; content: ""; height: 18px; width: 18px;
      left: 3px; bottom: 3px; background-color: white; border-radius: 50%; transition: 0.3s;
    }
    .toggle input:checked + .toggle-slider { background-color: #4361ee; }
    .toggle input:checked + .toggle-slider::before { transform: translateX(18px); }

    .quick-add { display: flex; gap: 0.5rem; }
    .quick-add input {
      flex: 1; padding: 0.5rem 0.75rem; border: 1px solid #ddd;
      border-radius: 6px; font-size: 0.85rem; outline: none;
      transition: background-color 0.3s, color 0.3s, border-color 0.3s;
    }
    body.dark .quick-add input { background: #0f3460; border-color: #1a1a4e; color: #e0e0e0; }
    .quick-add input:focus { border-color: #4361ee; box-shadow: 0 0 0 2px rgba(67, 97, 238, 0.15); }
    .quick-add button {
      padding: 0.5rem 0.75rem; background: #4361ee; color: #fff;
      border: none; border-radius: 6px; font-size: 0.85rem; font-weight: 600;
      cursor: pointer; white-space: nowrap;
    }
    .quick-add button:hover { background: #3651d4; }

    .site-count { font-size: 0.85rem; color: #666; padding: 0.25rem 0; }
    body.dark .site-count { color: #aaa; }
    .site-count strong { color: #333; }
    body.dark .site-count strong { color: #fff; }

    .btn-row { display: flex; gap: 0.5rem; margin-top: 0.25rem; }
    .btn {
      flex: 1; padding: 0.5rem; border: 1px solid #ddd; border-radius: 6px;
      background: #fff; font-size: 0.8rem; cursor: pointer; text-align: center;
      text-decoration: none; color: #333; font-weight: 500;
      transition: background-color 0.3s, color 0.3s, border-color 0.3s;
    }
    body.dark .btn { background: #0f3460; border-color: #1a1a4e; color: #e0e0e0; }
    .btn:hover { background: #f8f9fa; border-color: #ccc; }
    body.dark .btn:hover { background: #16213e; }

    .btn-donate { background: #ff6b35; color: #fff; border-color: #ff6b35; }
    .btn-donate:hover { background: #e55a28; border-color: #e55a28; }

    .message { font-size: 0.8rem; padding: 0.4rem 0; display: none; }
    .message.success { color: #155724; display: block; }
    .message.error { color: #721c24; display: block; }
    body.dark .message.success { color: #4caf50; }
    body.dark .message.error { color: #ff6b6b; }

    .permanent-option {
      display: flex; align-items: center; gap: 0.4rem;
      font-size: 0.8rem; color: #666; margin-top: 0.3rem;
    }
    body.dark .permanent-option { color: #aaa; }
    .permanent-option input[type="checkbox"] { margin: 0; }

    .popup-attribution {
      text-align: center; margin-top: 0.5rem; padding-top: 0.5rem;
      border-top: 1px solid #eee; font-size: 0.7rem; color: #bbb;
    }
    body.dark .popup-attribution { border-top-color: #1a1a4e; color: #555; }
    .popup-attribution a { color: #4361ee; text-decoration: none; }
    .popup-attribution a:hover { text-decoration: underline; }

    /* New York theme */
    body[data-style="new-york"] {
      font-family: Georgia, 'Times New Roman', Times, serif;
    }
    body[data-style="new-york"].light { background: #faf9f6; color: #121212; }
    body[data-style="new-york"].dark { background: #121212; color: #f0f0f0; }
    body[data-style="new-york"] .header h1 { letter-spacing: -0.01em; }
    body[data-style="new-york"].dark .header h1 { color: #f0f0f0; }
    body[data-style="new-york"] .toggle input:checked + .toggle-slider { background-color: #326891; }
    body[data-style="new-york"] .quick-add button { background: #326891; border-radius: 4px; }
    body[data-style="new-york"] .quick-add button:hover { background: #2a5a7e; }
    body[data-style="new-york"] .quick-add input { border-radius: 4px; }
    body[data-style="new-york"] .btn { border-radius: 4px; }
    body[data-style="new-york"] .btn-donate { background: #ff6b35; border-color: #ff6b35; border-radius: 4px; }
    body[data-style="new-york"] .popup-attribution a { color: #326891; }
  </style>
</head>
<body class="light">
  <div class="header">
    <h1>Distracted Work</h1>
    <span class="status-badge" id="statusBadge">Active</span>
  </div>

  <div class="section">
    <div class="toggle-row">
      <span class="toggle-label">Blocking enabled</span>
      <label class="toggle">
        <input type="checkbox" id="enableToggle" checked>
        <span class="toggle-slider"></span>
      </label>
    </div>
    <p class="site-count">Blocking <strong id="siteCount">0</strong> sites</p>
  </div>

  <div class="section">
    <div class="section-title">Quick Block a Site</div>
    <div class="quick-add">
      <input type="text" id="siteInput" placeholder="e.g. reddit.com" autocomplete="off">
      <button id="addSiteBtn">Block</button>
    </div>
    <div class="permanent-option">
      <input type="checkbox" id="permanentCheck">
      <label for="permanentCheck">Permanent (always on, ignores schedule)</label>
    </div>
    <div class="message" id="feedbackMsg"></div>
  </div>

  <div class="section">
    <div class="btn-row">
      <button class="btn" id="optionsBtn">Options</button>
      <button class="btn" id="themeBtn">Auto</button>
      <a class="btn btn-donate" id="donateBtn" href="https://ko-fi.com/alloydwhitlock" target="_blank">Donate</a>
    </div>
  </div>

  <div class="popup-attribution" id="popupAttribution">
    Brought to you by <a href="https://adamwhitlock.com" target="_blank">Adam Whitlock</a>
  </div>

  <script src="popup.js"></script>
</body>
</html>
